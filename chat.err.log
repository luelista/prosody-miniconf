
/home/max.weller/chat/app.js:95
                sendSysMsg("Client #"+i+": "+connectedClients[i].username+" / 
                                                                ^
TypeError: Cannot read property 'username' of null
    at Socket.<anonymous> (/home/max.weller/chat/app.js:95:65)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

/home/max.weller/chat/app.js:95
                sendSysMsg("Client #"+i+": "+connectedClients[i].user+" / "+co
                                                                ^
TypeError: Cannot read property 'user' of null
    at Socket.<anonymous> (/home/max.weller/chat/app.js:95:65)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

/home/max.weller/chat/app.js:100
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:100:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at XHRPolling.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at XHRPolling.HTTPTransport.onData (/home/max.weller/chat/node_modules/socket.io/lib/transports/http.js:99:10)
    at IncomingMessage.HTTPTransport.handleRequest.req.on.buffer (/home/max.weller/chat/node_modules/socket.io/lib/transports/http.js:69:12)
    at IncomingMessage.EventEmitter.emit (events.js:93:17)
    at IncomingMessage._emitEnd (http.js:366:10)
    at HTTPParser.parserOnMessageComplete [as onMessageComplete] (http.js:149:23)

/home/max.weller/chat/app.js:100
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:100:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

/home/max.weller/chat/app.js:100
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:100:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

/home/max.weller/chat/app.js:100
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:100:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

/home/max.weller/chat/app.js:123
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:123:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)
ReferenceError: uploadId is not defined
    at getUploadId (/home/max.weller/chat/app.js:235:50)
    at /home/max.weller/chat/app.js:62:31
    at callbacks (/home/max.weller/chat/node_modules/express/lib/router/index.js:161:37)
    at param (/home/max.weller/chat/node_modules/express/lib/router/index.js:135:11)
    at pass (/home/max.weller/chat/node_modules/express/lib/router/index.js:142:5)
    at Router._dispatch (/home/max.weller/chat/node_modules/express/lib/router/index.js:170:5)
    at Object.router (/home/max.weller/chat/node_modules/express/lib/router/index.js:33:10)
    at next (/home/max.weller/chat/node_modules/express/node_modules/connect/lib/proto.js:199:15)
    at IncomingForm.module.exports.req.form (/home/max.weller/chat/node_modules/express/node_modules/connect/lib/middleware/multipart.js:119:31)
    at IncomingForm.EventEmitter.emit (events.js:93:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

module.js:340
    throw err;
          ^
Error: Cannot find module 'request'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/home/max.weller/chat/gcm.js:1:77)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:485
        throw err;
              ^
TypeError: undefined is not a function
    at /home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/collection.js:674:14
    at Db._executeQueryCommand (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1801:5)
    at g (events.js:192:14)
    at EventEmitter.emit (events.js:126:20)
    at Db._callHandler (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/db.js:1485:25)
    at Server.connect.connectionPool.on.mongoReply.parseBody.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:418:34)
    at MongoReply.parseBody (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:127:5)
    at Server.connect.connectionPool.on.server._serverState (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/server.js:362:22)
    at EventEmitter.emit (events.js:96:17)
    at _connect (/home/max.weller/chat/node_modules/mongojs/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:148:13)

/home/max.weller/chat/app.js:287
    if(r = str.match(/^@@([a-z0-9_.-]+)/)) {
               ^
TypeError: Cannot call method 'match' of undefined
    at parseMsg (/home/max.weller/chat/app.js:287:16)
    at onSetFilter (/home/max.weller/chat/app.js:135:16)
    at Socket.io.sockets.on.socket.on.query.ts.$lt (/home/max.weller/chat/app.js:140:7)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:16)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

/home/max.weller/chat/app.js:92
        if (results.length != 1) {
                   ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.connectedUsers.(anonymous function) [as _callback] (/home/max.weller/chat/app.js:92:20)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Handshake.Protocol._enqueue (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:93:12)
    at Handshake.EventEmitter.emit (events.js:96:17)
    at Handshake.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:61:12)
    at Protocol.handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:226:14)
    at Connection._handleNetworkError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:136:18)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:16)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

/home/max.weller/chat/app.js:201
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:201:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:16)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:16)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:16)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

/home/max.weller/chat/app.js:112
          for(var i = 0; i < results.length; i++) {
                                    ^
TypeError: Cannot read property 'length' of undefined
    at Query.io.sockets.on.socket.on.db.connection.query.socket.emit.version [as _callback] (/home/max.weller/chat/app.js:112:37)
    at Query.Sequence.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:66:24)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:249:16)
    at Array.forEach (native)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:248:17)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)
    at Socket.onend (stream.js:66:10)
    at Socket.EventEmitter.emit (events.js:126:20)
    at TCP.onread (net.js:417:51)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:35:19)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

Error: connect ECONNREFUSED
    at errnoException (net.js:769:11)
    at Object.afterConnect [as oncomplete] (net.js:760:19)
    --------------------
    at Handshake.Sequence (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:15:21)
    at new Handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/sequences/Handshake.js:9:12)
    at Protocol.handshake (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:37:50)
    at Connection.connect (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:37:18)
    at Connection.<anonymous> (/home/max.weller/chat/dbconnect.js:36:19)
    at Connection.EventEmitter.emit (events.js:96:17)
    at Connection._handleProtocolError (/home/max.weller/chat/node_modules/mysql/lib/Connection.js:140:8)
    at Protocol.EventEmitter.emit (events.js:96:17)
    at Protocol._delegateError (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:246:10)
    at Protocol.end (/home/max.weller/chat/node_modules/mysql/lib/protocol/Protocol.js:72:8)

/home/max.weller/chat/app.js:266
      registration_ids: results.map(function(a) { return a.id; }),
                                ^
TypeError: Cannot call method 'map' of undefined
    at /home/max.weller/chat/app.js:266:33
    at exports.fork (/home/max.weller/chat/node_modules/mongojs/node_modules/common/index.js:100:4)
    at Object.exports.future.that.put.that.get (/home/max.weller/chat/node_modules/mongojs/node_modules/common/index.js:218:4)
    at Cursor._exec (/home/max.weller/chat/node_modules/mongojs/index.js:102:17)
    at Cursor.toArray (/home/max.weller/chat/node_modules/mongojs/index.js:64:7)
    at sendViaGCM (/home/max.weller/chat/app.js:264:52)
    at /home/max.weller/chat/app.js:253:17
    at exports.fork (/home/max.weller/chat/node_modules/mongojs/node_modules/common/index.js:100:4)
    at Object.exports.future.that.put.that.get (/home/max.weller/chat/node_modules/mongojs/node_modules/common/index.js:218:4)
    at Collection._exec (/home/max.weller/chat/node_modules/mongojs/index.js:168:21)

/home/max.weller/chat/app.js:202
              throw new Error("Restart requested!");
                    ^
Error: Restart requested!
    at Socket.<anonymous> (/home/max.weller/chat/app.js:202:21)
    at Socket.EventEmitter.emit [as $emit] (events.js:96:17)
    at SocketNamespace.handlePacket (/home/max.weller/chat/node_modules/socket.io/lib/namespace.js:335:22)
    at Manager.onClientMessage (/home/max.weller/chat/node_modules/socket.io/lib/manager.js:488:38)
    at WebSocket.Transport.onMessage (/home/max.weller/chat/node_modules/socket.io/lib/transport.js:387:20)
    at Parser.<anonymous> (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:39:10)
    at Parser.EventEmitter.emit (events.js:96:17)
    at opcodeHandlers.1.finish (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:288:16)
    at Parser.opcodeHandlers.1.expectData [as expectHandler] (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:299:15)
    at Parser.add (/home/max.weller/chat/node_modules/socket.io/lib/transports/websocket/hybi-16.js:466:24)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
Error: parser error, 34 of 38 bytes parsed
    at IncomingForm.write (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:145:17)
    at IncomingMessage.<anonymous> (/home/max.weller/chat/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:95:12)
    at IncomingMessage.EventEmitter.emit (events.js:96:17)
    at IncomingMessage._emitData (http.js:359:10)
    at HTTPParser.parserOnBody [as onBody] (http.js:123:21)
    at CleartextStream.socket.ondata (http.js:1704:22)
    at CleartextStream.CryptoStream._push (tls.js:526:27)
    at SecurePair.cycle (tls.js:880:20)
    at EncryptedStream.CryptoStream.write (tls.js:267:13)
    at Socket.ondata (stream.js:38:26)
